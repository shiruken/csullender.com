<!doctype html><html lang=en><head><title>Taylor Swifting · Colin Sullender</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Colin Sullender"><meta name=description content="I had a really random idea the other day for a simple coding project using the LastFM API: When was the last time you listened to Taylor Swift? This is obviously an extremely important statistic to know for the Taylor Swift obsessed. I already made a tool to lookup the first time you listened to an artist using your LastFM profile, so this was a relatively straightforward adaptation. I also wanted to take this opportunity to leverage the power of jQuery to asynchronously load the information rather than simply waiting for a static page."><meta name=keywords content="personal,blog,biomedical,engineer,optics,researcher"><meta name=twitter:card content="summary"><meta name=twitter:title content="Taylor Swifting"><meta name=twitter:description content="I had a really random idea the other day for a simple coding project using the LastFM API: When was the last time you listened to Taylor Swift? This is obviously an extremely important statistic to know for the Taylor Swift obsessed. I already made a tool to lookup the first time you listened to an artist using your LastFM profile, so this was a relatively straightforward adaptation. I also wanted to take this opportunity to leverage the power of jQuery to asynchronously load the information rather than simply waiting for a static page."><meta property="og:title" content="Taylor Swifting"><meta property="og:description" content="I had a really random idea the other day for a simple coding project using the LastFM API: When was the last time you listened to Taylor Swift? This is obviously an extremely important statistic to know for the Taylor Swift obsessed. I already made a tool to lookup the first time you listened to an artist using your LastFM profile, so this was a relatively straightforward adaptation. I also wanted to take this opportunity to leverage the power of jQuery to asynchronously load the information rather than simply waiting for a static page."><meta property="og:type" content="article"><meta property="og:url" content="https://csullender.com/posts/taylor-swifting/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-11-30T06:28:36+00:00"><meta property="article:modified_time" content="2022-07-03T16:16:18-04:00"><link rel=canonical href=https://csullender.com/posts/taylor-swifting/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.c4d7e93a158eda5a65b3df343745d2092a0a1e2170feeec909b8a89443903c6a.css integrity="sha256-xNfpOhWO2lpls980N0XSCSoKHiFw/u7JCbiolEOQPGo=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/custom.min.2db64aa52851a2640748a1b94e114ce4baba720f28653990be14c8bec384d317.css integrity="sha256-LbZKpShRomQHSKG5ThFM5Lq6cg8oZTmQvhTIvsOE0xc=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/academicons.min.min.07f5b6f18720a032cfb2eff6c582b39b2d7a288aeb4f7d65f3cb07a2bec77f0c.css integrity="sha256-B/W28YcgoDLPsu/2xYKzmy16KIrrT31l88sHor7Hfww=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5><meta name=generator content="Hugo 0.104.3"></head><body class="preload-transitions colorscheme-light"><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Colin Sullender</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/about>About</a></li><li class=navigation-item><a class=navigation-link href=/posts>Blog</a></li><li class=navigation-item><a class=navigation-link href=/research>Research</a></li><li class=navigation-item><a class=navigation-link href=/coding>Coding</a></li><li class=navigation-item><a class=navigation-link href=/websites>Websites</a></li><li class=navigation-item><a class=navigation-link href=https://sciencegifs.csullender.com/>Science GIFs</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://csullender.com/posts/taylor-swifting/>Taylor Swifting</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2014-11-30T06:28:36Z>November 30, 2014</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
2-minute read</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/coding/>Coding</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/web/>Web</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/music/>Music</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/lastfm/>LastFM</a></span></div></div></header><div><p>I had a <a href=https://twitter.com/shiruken/status/536957959503241217>really random idea</a> the other day for a simple coding project using the LastFM API: When was the last time you listened to Taylor Swift? This is obviously an extremely important statistic to know for the Taylor Swift obsessed. I already made a tool to <a href=/first><del>lookup the first time you listened to an artist</del></a> using your LastFM profile, so this was a relatively straightforward adaptation. I also wanted to take this opportunity to leverage the power of <a href=http://jquery.com/>jQuery</a> to asynchronously load the information rather than simply waiting for a static page. Check out <del>The Last Swifting page</del> (<em>Deprecated July 2022</em>) or continue reading for more information.</p><p><img src=screenshot.jpg alt="Screenshot of The Last Swifting result page"></p><p>I use <a href=http://api.jquery.com/jquery.ajax/><code>jQuery.ajax()</code></a> to asynchronously GET information from a server-side PHP script using the input LastFM username. As with the existing <a href=/posts/lastfm-first-listen/ title="LastFM First Listen">user + artist lookup page</a>, the <a href=http://www.last.fm/api/show/user.getArtistTracks><code>user.getArtistTracks</code></a> was our desired API method. This returns a list of tracks by a given artist scrobbled by the user in reverse chronological order. Since we only care about the most recent Taylor Swift listen, we can use the <code>&limit=1</code> parameter to reduce the number of results returned. Some simple XML DOM traversal gives us all the information we need: track name, timestamp (UTC), and album artwork url. This data is parsed by the client-side Javascript and presented as seen above. Since Javascript is handling the conversion of Unix timestamp to human readable format, the client timezone is properly displayed.</p><p>During development of the webpage, I wanted to make the username input more interesting than just a plain textbox. I had the idea of making the field expand automatically as more text was entered, which seemed trivial since I was already using jQuery. This turned out to be more difficult than anticipated since simply reading the size of the text and adjusting the input size would often result in extra trailing space. The animation also appeared extremely choppy and was often unreliable. I eventually stumbled upon <a href=http://stackoverflow.com/questions/8100770/auto-scaling-inputtype-text-to-width-of-value/22423199#22423199>this StackOverflow post</a> that offered a beautiful solution. It does a better job of calculating the width of the current text and smooths animations using the CSS transition parameter. This allowed me to directly integrate the username into the results text without worrying about glaring extra space.</p><p><img src=text.gif alt="Text Entry Demonstration"></p><p><del><strong>Check It Out:</strong> <strong>The Last Swifting</strong></del> (<em>Deprecated July 2022</em>)</p></div><footer><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//csullender.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></footer></article></section></div><footer class=footer><section class=container>©
2022
Colin Sullender
·
Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.
[<a href=https://github.com/shiruken/csullender.com/commit/20389f2f2660bcc34156448ec30101adbe087ed5>20389f2</a>]</section></footer></main><script src=/js/coder.min.236049395dc3682fb2719640872958e12f1f24067bb09c327b233e6290c7edac.js integrity="sha256-I2BJOV3DaC+ycZZAhylY4S8fJAZ7sJwyeyM+YpDH7aw="></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XKMRF7KB73"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XKMRF7KB73",{anonymize_ip:!1})}</script><script async defer data-domain=csullender.com,/csullender.com src=https://p.csullender.com/js/plausible.outbound-links.js></script>
<script async defer data-website-id=d6527871-ec0b-4ff7-a839-3601a22d4549 src=https://u.csullender.com/script.js></script>
<script>var _paq=window._paq=window._paq||[];_paq.push(["setCookieDomain","*.csullender.com"]),_paq.push(["setDomains",["*.csullender.com"]]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="https://m.csullender.com/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script><noscript><p><img src="https://m.csullender.com/matomo.php?idsite=1&rec=1" style=border:0 alt></p></noscript></body></html>